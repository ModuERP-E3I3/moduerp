<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
 "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="finCloseMapper">
<!-- namespace (이름공간) == 패키지와 같음 : 매퍼 영역에 이름을 붙여준 것으로 이해하면 됨 -->

	<resultMap type="FinClose" id="resultFinClose">
		<result property="closingId" column="CLOSING_ID" />
		<result property="uuId" column="UUID" />
		<result property="bankId" column="BANK_ID" />
		<result property="departmentId" column="DEPARTMENT_ID" />
		<result property="startDate" column="START_DATE" />
		<result property="endDate" column="END_DATE" />
		<result property="totalSales" column="TOTAL_SALES" />
		<result property="totalExpenses" column="TOTAL_EXPENSES" />
		<result property="netProfit" column="NET_PROFIT" />
		<result property="approvalStatus" column="APPROVAL_STATUS" />
		<result property="closingDate" column="CLOSING_DATE" />
		<result property="closingType" column="CLOSING_TYPE" />
	</resultMap>
	
	<select id="getAllFinCloses" resultType="com.e3i3.moduerp.financialclosing.model.dto.FinClose">
        SELECT * FROM FINANCIAL_CLOSING
    </select>

   <select id="getFinCloseById" parameterType="String" resultType="com.e3i3.moduerp.financialclosing.model.dto.FinClose">
        SELECT * FROM FINANCIAL_CLOSING WHERE CLOSING_ID = #{closingId}
    </select>

    <insert id="insertFinClose" parameterType="com.e3i3.moduerp.financialclosing.model.dto.FinClose">
        INSERT INTO FINANCIAL_CLOSING (CLOSING_ID, UUID, BANK_ID, DEPARTMENT_ID, START_DATE, END_DATE, TOTAL_SALES, TOTAL_EXPENSES, NET_PROFIT, APPROVAL_STATUS, CLOSING_DATE, CLOSING_TYPE)
        VALUES (#{closingId}, #{uuId}, #{bankId}, #{departmentId}, #{startDate}, #{endDate}, #{totalSales}, #{totalExpenses}, #{netProfit}, #{approvalStatus}, #{closingDate}, #{closingType})
    </insert>

    <update id="updateFinClose" parameterType="com.e3i3.moduerp.financialclosing.model.dto.FinClose">
        UPDATE FINANCIAL_CLOSING
        SET UUID = #{uuId}, BANK_ID = #{bankId}, DEPARTMENT_ID = #{departmentId}, 
            START_DATE = #{startDate}, END_DATE = #{endDate}, TOTAL_SALES = #{totalSales}, 
            TOTAL_EXPENSES = #{totalExpenses}, NET_PROFIT = #{netProfit}, 
            APPROVAL_STATUS = #{approvalStatus}, CLOSING_DATE = #{closingDate}, 
            CLOSING_TYPE = #{closingType}
        WHERE CLOSING_ID = #{closingId}
    </update>

    <delete id="deleteFinClose" parameterType="String">
        DELETE FROM FINANCIAL_CLOSING WHERE CLOSING_ID = #{closingId}
    </delete>
    
</mapper>